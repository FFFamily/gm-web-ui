# 后台「用户体系」前端页面清单（基础版）

> 依据：`doc/user-system-feature-list.md`
>
> 目的：给前端做路由/页面骨架生成与权限点绑定用。

## 0. 登录与基础框架

1) 登录页
- 路由：`/login`
- 表单：用户名、密码
- 成功：保存 token（Sa-Token token-name：`satoken`，参考后端配置），跳转首页
- 失败：统一提示“用户名或密码错误”（不区分用户不存在/密码错误）

2) 布局/权限基座（建议作为工程骨架一并生成）
- 顶部/侧边栏布局
- 路由守卫：未登录跳转 `/login`
- 权限指令/组件：根据 `perm_code` 控制菜单、按钮显示与可用

## 1. 用户管理

3) 用户列表页
- 路由：`/users`
- 功能：分页、关键字搜索（username/displayName）、enabled 筛选
- 操作按钮（按权限控制）：
  - 查看详情（`user:read`）
  - 新增用户（`user:create`）
  - 编辑用户（`user:update`）
  - 重置密码（`user:reset_password`）

4) 用户新增页（或弹窗）
- 路由：`/users/new`（或列表页弹窗）
- 表单：username、displayName、初始密码、enabled、角色选择（多选 roleCodes）
- 提交：创建成功返回详情/回列表

5) 用户编辑页（或弹窗）
- 路由：`/users/:id/edit`（或详情页/列表页弹窗）
- 表单：displayName、enabled、角色选择（多选 roleCodes）

6) 用户详情页
- 路由：`/users/:id`
- 展示：基本信息 + 角色列表 + lastLoginAt/createdAt/updatedAt
- 操作：编辑、重置密码（按权限）

7) 重置密码结果页/弹窗（建议弹窗）
- 触发：用户列表/详情页 “重置密码”
- 展示：临时密码（一次性展示、复制按钮），提示管理员线下转交用户

## 2. 角色与权限

8) 角色列表页
- 路由：`/roles`
- 功能：分页
- 操作按钮（按权限控制）：
  - 查看详情（`role:read`）
  - 新增角色（`role:create`）
  - 编辑角色（`role:update`）
  - 删除角色（`role:delete`，`ADMIN` 角色前端建议置灰/隐藏）

9) 角色新增页（或弹窗）
- 路由：`/roles/new`
- 表单：roleCode、roleName

10) 角色编辑页（或弹窗）
- 路由：`/roles/:id/edit`
- 表单：roleName（roleCode 通常只读）

11) 角色详情页（含绑定权限）
- 路由：`/roles/:id`
- 展示：roleCode、roleName、已绑定 permCodes
- 操作：绑定权限（`role:bind_permissions`）
  - 建议 UI：权限树/分组多选（数据源来自“权限点列表”接口）

12) 权限点列表页（只读）
- 路由：`/permissions`
- 功能：列表展示 permCode、permName（可加搜索但非必须）

## 3. 审计日志

13) 审计日志列表页
- 路由：`/audits`
- 功能：分页 + 筛选（actorUserId、action、targetType、时间范围 startAt/endAt）
- 展示字段：actorUserId、action、targetType、targetId、result、ip、ua、requestId、createdAt
- 详情弹窗（建议）：展示 detailJson（格式化 JSON）

## 4. 菜单建议（对应权限点）

- 用户管理（`user:list`）
- 角色管理（`role:list`）
- 权限点（`permission:list`）
- 审计日志（`audit:list`）

